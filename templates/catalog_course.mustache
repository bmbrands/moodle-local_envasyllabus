{{!
    This file is part of Moodle - http://moodle.org/

    Moodle is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    Moodle is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with Moodle.  If not, see <http://www.gnu.org/licenses/>.
}}
{{!
    @template local_envasyllabus/catalog_course

    This template renders a course thumbnail

    Example context (json):
    {
        "nocoursesimg": "https://moodlesite/theme/image.php/boost/block_myoverview/1535727318/courses",
        "grouping": "all",
        "sort": "fullname",
    }
}}
<div class="local-envasyllabus-catalog-course col-3 span3 course-outer-card">
    <div class="card course-card d-flex flex-column" role="listitem" data-course-id="{{{id}}}">
        <div class="card-img-top card-img course-img" style="background-image: url({{courseimageurl}})">
          <span class="sr-only">
              {{#str}}aria:courseimage, core_course{{/str}}
          </span>
        </div>
        <div class="text-muted muted d-flex mb-1 flex-wrap">
            <span class="sr-only">
                {{#str}}aria:courseshortname, core_course{{/str}}
            </span>
            <div class="cshortname bg-dark text-white headline-v2 d-inline p-2">
                {{{shortname}}}
            </div>
        </div>
        <div class="card-body p-2 flex-grow-1 d-flex flex-column" id="course-info-container-{{id}}">
            <div class="d-flex align-items-start p-b-1 flex-grow-1">
                <div class="w-100 text-wrap">
                                            <span class="sr-only ">
                                                {{#str}}aria:coursename, core_course{{/str}}
                                            </span>
                    <span class="font-weight-bold">
                        {{{displayname}}}
                        <a type="button" data-toggle="popover" data-placement="left" class="course-info-popover"
                           title="{{#str}}course:summary, local_envasyllabus{{/str}}"
                           data-content="{{smallsummarytext}}">{{#pix}}i/info, core, {{#str}}info{{/str}}{{/pix}}</a>
                    </span>
                    {{^visible}}
                        <div class="d-flex flex-wrap">
                            <span class="tag tag-info">{{#str}} hiddenfromstudents {{/str}}</span>
                        </div>
                    {{/visible}}
                </div>
            </div>
        </div>
        <div class="align-self-end text-light d-flex p-2">
            <div class="flex-grow-1">
                {{#cf.uc_total_heures_enseignants.value}}
                    <span>
                        <i class="icon text-primary fa fa-clock-o" title="{{cf.uc_total_heures_enseignants.name}}">
                        </i>
                        {{#str}}coursecard:hours, local_envasyllabus, {{cf.uc_total_heures_enseignants.value}}{{/str}}
                    </span>
                {{/cf.uc_total_heures_enseignants.value}}
                {{#cf.uc_ects.value}}
                    <span>
                        <i class="icon text-primary fa fa-trophy" title="{{cf.uc_ects.name}}">
                        </i>
                        {{#str}}coursecard:credits, local_envasyllabus, {{cf.uc_ects.value}}{{/str}}
                    </span>
                {{/cf.uc_ects.value}}
            </div>
            <div class="align-self-end">
                <a href="{{syllabusurl}}" class="icon-large">{{#pix}}i/arrowview, local_envasyllabus, {{#str}}view{{/str}}{{/pix}}</a>
            </div>
        </div>
    </div>
</div>