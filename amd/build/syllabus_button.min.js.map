{"version":3,"file":"syllabus_button.min.js","sources":["../src/syllabus_button.js"],"sourcesContent":["// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\n/**\n * Add view syllabus button in the course summary\n *\n * @copyright  2023 CALL Learning <laurent@call-learning.fr>\n * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\nimport Templates from \"core/templates\";\nimport {exception as displayException} from 'core/notification';\nimport Config from 'core/config';\n/**\n * Init\n *\n * @param {number} courseId\n */\nexport const init = (courseId) => {\n    const summaryTag = document.querySelector('.header-actions-container');\n    const url = Config.wwwroot + '/local/envasyllabus/syllabuspage.php?id=' + courseId;\n    Templates.render('local_envasyllabus/syllabus_button', {\n        url: url\n    }).then((html, js) => {\n        Templates.appendNodeContents(summaryTag, html, js);\n        return '';\n    }).catch(displayException);\n};\n"],"names":["courseId","summaryTag","document","querySelector","url","Config","wwwroot","render","then","html","js","appendNodeContents","catch","displayException"],"mappings":";;;;;;sLA6BqBA,iBACXC,WAAaC,SAASC,cAAc,6BACpCC,IAAMC,gBAAOC,QAAU,2CAA6CN,4BAChEO,OAAO,qCAAsC,CACnDH,IAAKA,MACNI,MAAK,CAACC,KAAMC,yBACDC,mBAAmBV,WAAYQ,KAAMC,IACxC,MACRE,MAAMC"}